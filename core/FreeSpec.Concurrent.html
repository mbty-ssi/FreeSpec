<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>FreeSpec.Concurrent</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library FreeSpec.Concurrent</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Coq.Program.Equality</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="FreeSpec.Specification.html#"><span class="id" title="library">FreeSpec.Specification</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="FreeSpec.Specification.Constant.html#"><span class="id" title="library">FreeSpec.Specification.Constant</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="FreeSpec.Interface.html#"><span class="id" title="library">FreeSpec.Interface</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="FreeSpec.Semantics.html#"><span class="id" title="library">FreeSpec.Semantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="FreeSpec.Program.html#"><span class="id" title="library">FreeSpec.Program</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="FreeSpec.Component.html#"><span class="id" title="library">FreeSpec.Component</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Prelude.Control</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Prelude.Equality</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">prelude_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="sequence"><span class="id" title="inductive">sequence</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">I</span>:  <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Type</span> :=<br/>
| <a name="sequence_nil"><span class="id" title="constructor">sequence_nil</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a><br/>
| <a name="sequence_cons"><span class="id" title="constructor">sequence_cons</span></a> {<span class="id" title="var">A</span>:     <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>:     <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">rest</span>:  <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="FreeSpec.Concurrent.html#sequence_nil"><span class="id" title="constructor">sequence_nil</span></a> [<span class="id" title="var">I</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="FreeSpec.Concurrent.html#sequence_cons"><span class="id" title="constructor">sequence_cons</span></a> [<span class="id" title="var">I</span> <span class="id" title="var">A</span>] (<span class="id" title="var">e</span> <span class="id" title="var">rest</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="correct_sequence"><span class="id" title="inductive">correct_sequence</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:    <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">req</span>:  <span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="correct_sequence_cons"><span class="id" title="constructor">correct_sequence_cons</span></a> {<span class="id" title="var">A</span>:      <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>:      <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hreq</span>:   <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="FreeSpec.Concurrent.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">rest</span>:   <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span>:      <a class="idref" href="FreeSpec.Concurrent.html#correct_sequence"><span class="id" title="inductive">correct_sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> <a class="idref" href="FreeSpec.Concurrent.html#rest"><span class="id" title="variable">rest</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#correct_sequence"><span class="id" title="inductive">correct_sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> (<a class="idref" href="FreeSpec.Concurrent.html#sequence_cons"><span class="id" title="constructor">sequence_cons</span></a> <a class="idref" href="FreeSpec.Concurrent.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="FreeSpec.Concurrent.html#rest"><span class="id" title="variable">rest</span></a>)<br/>
| <a name="correct_sequence_nil"><span class="id" title="constructor">correct_sequence_nil</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#correct_sequence"><span class="id" title="inductive">correct_sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> <a class="idref" href="FreeSpec.Concurrent.html#sequence_nil"><span class="id" title="constructor">sequence_nil</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="5ea289f5c7cdec5ccd67cdd17499e264"><span class="id" title="notation">&quot;</span></a>l '=¦' req" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="FreeSpec.Concurrent.html#correct_sequence"><span class="id" title="inductive">correct_sequence</span></a> <span class="id" title="var">req</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:   <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span>:  <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Program.html#Program"><span class="id" title="inductive">Program</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="FreeSpec.Concurrent.html#sequence_nil"><span class="id" title="constructor">sequence_nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="method">pure</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="FreeSpec.Concurrent.html#sequence_cons"><span class="id" title="constructor">sequence_cons</span></a> <span class="id" title="var">i</span> <span class="id" title="var">rest</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="FreeSpec.Program.html#Request"><span class="id" title="constructor">Request</span></a> <span class="id" title="var">i</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> <span class="id" title="var">rest</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">CoInductive</span> <a name="stream"><span class="id" title="inductive">stream</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">I</span>:  <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Type</span> :=<br/>
| <a name="stream_cons"><span class="id" title="constructor">stream_cons</span></a> (<span class="id" title="var">seq</span>:       <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">infinite</span>:  <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="FreeSpec.Concurrent.html#stream_cons"><span class="id" title="constructor">stream_cons</span></a> [<span class="id" title="var">I</span>] (<span class="id" title="var">seq</span> <span class="id" title="var">infinite</span>).<br/>

<br/>
<span class="id" title="keyword">CoInductive</span> <a name="correct_stream"><span class="id" title="inductive">correct_stream</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:    <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">req</span>:  <span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="restricted_stream_cons"><span class="id" title="constructor">restricted_stream_cons</span></a> (<span class="id" title="var">seq</span>:   <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hseq</span>:  <a class="idref" href="FreeSpec.Concurrent.html#correct_sequence"><span class="id" title="inductive">correct_sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> <a class="idref" href="FreeSpec.Concurrent.html#seq"><span class="id" title="variable">seq</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">next</span>:  <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hnext</span>:  <a class="idref" href="FreeSpec.Concurrent.html#correct_stream"><span class="id" title="inductive">correct_stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> <a class="idref" href="FreeSpec.Concurrent.html#next"><span class="id" title="variable">next</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#correct_stream"><span class="id" title="inductive">correct_stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> (<a class="idref" href="FreeSpec.Concurrent.html#stream_cons"><span class="id" title="constructor">stream_cons</span></a> <a class="idref" href="FreeSpec.Concurrent.html#seq"><span class="id" title="variable">seq</span></a> <a class="idref" href="FreeSpec.Concurrent.html#next"><span class="id" title="variable">next</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="ec9ac0dbaf267c4653dd17bebbbecdac"><span class="id" title="notation">&quot;</span></a>st '*=¦' req" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="FreeSpec.Concurrent.html#correct_stream"><span class="id" title="inductive">correct_stream</span></a> <span class="id" title="var">req</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="pick"><span class="id" title="definition">pick</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:   <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span>:  <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="FreeSpec.Concurrent.html#stream_cons"><span class="id" title="constructor">stream_cons</span></a> <span class="id" title="var">seq</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="var">seq</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="consume"><span class="id" title="definition">consume</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:   <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span>:  <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="FreeSpec.Concurrent.html#stream_cons"><span class="id" title="constructor">stream_cons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">infinite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="var">infinite</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a name="correct_stream_pick_correct_sequence"><span class="id" title="lemma">correct_stream_pick_correct_sequence</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:    <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">req</span>:  <span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>), <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span>:   <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span>:    <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="FreeSpec.Concurrent.html#ec9ac0dbaf267c4653dd17bebbbecdac"><span class="id" title="notation">*=¦</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#pick"><span class="id" title="definition">pick</span></a> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="FreeSpec.Concurrent.html#5ea289f5c7cdec5ccd67cdd17499e264"><span class="id" title="notation">=¦</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hseq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a name="correct_stream_consume_correct_stream"><span class="id" title="lemma">correct_stream_consume_correct_stream</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:    <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">req</span>:  <span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>), <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span>:   <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span>:    <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="FreeSpec.Concurrent.html#ec9ac0dbaf267c4653dd17bebbbecdac"><span class="id" title="notation">*=¦</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#consume"><span class="id" title="definition">consume</span></a> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="FreeSpec.Concurrent.html#ec9ac0dbaf267c4653dd17bebbbecdac"><span class="id" title="notation">*=¦</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hnext</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">CoFixpoint</span> <a name="concurrent_semantics"><span class="id" title="definition">concurrent_semantics</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:    <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sig</span>:  <a class="idref" href="FreeSpec.Semantics.html#Sem.t"><span class="id" title="inductive">Sem.t</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span>:   <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Semantics.html#Sem.t"><span class="id" title="inductive">Sem.t</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="FreeSpec.Semantics.html#Sem.handler"><span class="id" title="constructor">Sem.handler</span></a> (<span class="id" title="keyword">fun</span> {<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span>:  <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="FreeSpec.Semantics.html#Sem.mkRes"><span class="id" title="constructor">Sem.mkRes</span></a> (<a class="idref" href="FreeSpec.Semantics.html#evalEffect"><span class="id" title="definition">evalEffect</span></a> (<a class="idref" href="FreeSpec.Program.html#execProgram"><span class="id" title="definition">execProgram</span></a> <a class="idref" href="FreeSpec.Concurrent.html#sig"><span class="id" title="variable">sig</span></a> (<a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> (<a class="idref" href="FreeSpec.Concurrent.html#pick"><span class="id" title="definition">pick</span></a> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a>))) <a class="idref" href="FreeSpec.Concurrent.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="FreeSpec.Concurrent.html#concurrent_semantics"><span class="id" title="definition">concurrent_semantics</span></a> (<a class="idref" href="FreeSpec.Semantics.html#execEffect"><span class="id" title="definition">execEffect</span></a> (<a class="idref" href="FreeSpec.Program.html#execProgram"><span class="id" title="definition">execProgram</span></a> <a class="idref" href="FreeSpec.Concurrent.html#sig"><span class="id" title="variable">sig</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> (<a class="idref" href="FreeSpec.Concurrent.html#pick"><span class="id" title="definition">pick</span></a> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <a class="idref" href="FreeSpec.Concurrent.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="FreeSpec.Concurrent.html#consume"><span class="id" title="definition">consume</span></a> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a>))).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="non_interference_requirement"><span class="id" title="inductive">non_interference_requirement</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">W</span>:    <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:    <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span>:    <a class="idref" href="FreeSpec.Specification.html#Specification"><span class="id" title="record">Specification</span></a> <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">req</span>:  <span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>), <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="concurrent_semanticss_req"><span class="id" title="constructor">concurrent_semanticss_req</span></a> (<span class="id" title="var">Hreq</span>: <span class="id" title="keyword">∀</span> {<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span>:  <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span>:  <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="FreeSpec.Concurrent.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="FreeSpec.Specification.html#precondition"><span class="id" title="projection">precondition</span></a> <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Concurrent.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hni</span>: <span class="id" title="keyword">∀</span> {<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span>:  <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span>:  <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span>:  <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="FreeSpec.Concurrent.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="FreeSpec.Specification.html#abstract_step"><span class="id" title="projection">abstract_step</span></a> <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Concurrent.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="FreeSpec.Concurrent.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#non_interference_requirement"><span class="id" title="inductive">non_interference_requirement</span></a> <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="0ff663c2fb669af173c803a848642190"><span class="id" title="notation">&quot;</span></a>c \\ req" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="FreeSpec.Concurrent.html#non_interference_requirement"><span class="id" title="inductive">non_interference_requirement</span></a> <span class="id" title="var">c</span> <span class="id" title="var">req</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">req</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="correct_sequence_rewrite_abstract_state"><span class="id" title="lemma">correct_sequence_rewrite_abstract_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:     <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">W</span>:     <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span>:     <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span>:     <a class="idref" href="FreeSpec.Specification.html#Specification"><span class="id" title="record">Specification</span></a> <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">req</span>:   <span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">seq</span>:   <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hseq</span>:  <a class="idref" href="FreeSpec.Concurrent.html#seq"><span class="id" title="variable">seq</span></a> <a class="idref" href="FreeSpec.Concurrent.html#5ea289f5c7cdec5ccd67cdd17499e264"><span class="id" title="notation">=¦</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sig</span>:   <a class="idref" href="FreeSpec.Semantics.html#Sem.t"><span class="id" title="inductive">Sem.t</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hsig</span>:  <a class="idref" href="FreeSpec.Concurrent.html#sig"><span class="id" title="variable">sig</span></a> <a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">|=</span></a> <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">[</span></a><a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hni</span>:   <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Concurrent.html#0ff663c2fb669af173c803a848642190"><span class="id" title="notation">\\</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Specification.html#specification_derive"><span class="id" title="definition">specification_derive</span></a> (<a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> <a class="idref" href="FreeSpec.Concurrent.html#seq"><span class="id" title="variable">seq</span></a>) <a class="idref" href="FreeSpec.Concurrent.html#sig"><span class="id" title="variable">sig</span></a> <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hsig</span>; <span class="id" title="var">revert</span> <span class="id" title="var">sig</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hseq</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">sig</span> <span class="id" title="var">w</span> <span class="id" title="var">Hsig</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="FreeSpec.Specification.html#specification_derives_request_eq"><span class="id" title="lemma">specification_derives_request_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHHseq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsig</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="correct_sequence_correct_program"><span class="id" title="lemma">correct_sequence_correct_program</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:     <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">W</span>:     <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span>:     <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span>:     <a class="idref" href="FreeSpec.Specification.html#Specification"><span class="id" title="record">Specification</span></a> <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">req</span>:   <span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">seq</span>:   <a class="idref" href="FreeSpec.Concurrent.html#sequence"><span class="id" title="inductive">sequence</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hseq</span>:  <a class="idref" href="FreeSpec.Concurrent.html#seq"><span class="id" title="variable">seq</span></a> <a class="idref" href="FreeSpec.Concurrent.html#5ea289f5c7cdec5ccd67cdd17499e264"><span class="id" title="notation">=¦</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hni</span>:   <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Concurrent.html#0ff663c2fb669af173c803a848642190"><span class="id" title="notation">\\</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> <a class="idref" href="FreeSpec.Concurrent.html#seq"><span class="id" title="variable">seq</span></a> <a class="idref" href="FreeSpec.Specification.html#1bfa67b3c9c3752011eaeae2630646a3"><span class="id" title="notation">|&gt;</span></a> <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="FreeSpec.Specification.html#1bfa67b3c9c3752011eaeae2630646a3"><span class="id" title="notation">[</span></a><a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="FreeSpec.Specification.html#1bfa67b3c9c3752011eaeae2630646a3"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hseq</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">sig</span> <span class="id" title="var">Hsig</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHseq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="concurrence_is_possible"><span class="id" title="lemma">concurrence_is_possible</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">I</span>:     <a class="idref" href="FreeSpec.Interface.html#Interface"><span class="id" title="definition">Interface</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">W</span>:     <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span>:     <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span>:     <a class="idref" href="FreeSpec.Specification.html#Specification"><span class="id" title="record">Specification</span></a> <a class="idref" href="FreeSpec.Concurrent.html#W"><span class="id" title="variable">W</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">req</span>:   <span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>:  <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="FreeSpec.Concurrent.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">st</span>:    <a class="idref" href="FreeSpec.Concurrent.html#stream"><span class="id" title="inductive">stream</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hst</span>:   <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="FreeSpec.Concurrent.html#ec9ac0dbaf267c4653dd17bebbbecdac"><span class="id" title="notation">*=¦</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sig</span>:   <a class="idref" href="FreeSpec.Semantics.html#Sem.t"><span class="id" title="inductive">Sem.t</span></a> <a class="idref" href="FreeSpec.Concurrent.html#I"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hsig</span>:  <a class="idref" href="FreeSpec.Concurrent.html#sig"><span class="id" title="variable">sig</span></a> <a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">|=</span></a> <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">[</span></a><a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hni</span>:   <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Concurrent.html#0ff663c2fb669af173c803a848642190"><span class="id" title="notation">\\</span></a> <a class="idref" href="FreeSpec.Concurrent.html#req"><span class="id" title="variable">req</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Concurrent.html#concurrent_semantics"><span class="id" title="definition">concurrent_semantics</span></a> <a class="idref" href="FreeSpec.Concurrent.html#sig"><span class="id" title="variable">sig</span></a> <a class="idref" href="FreeSpec.Concurrent.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">|=</span></a> <a class="idref" href="FreeSpec.Concurrent.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">[</span></a><a class="idref" href="FreeSpec.Concurrent.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hsig</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">sig</span> <span class="id" title="var">st</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">cofix</span> <span class="id" title="var">concurrence_is_possible</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">sig</span> <span class="id" title="var">st</span> <span class="id" title="var">w</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hsig</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="FreeSpec.Concurrent.html#pick"><span class="id" title="definition">pick</span></a> <span class="id" title="var">st</span> <a class="idref" href="FreeSpec.Concurrent.html#5ea289f5c7cdec5ccd67cdd17499e264"><span class="id" title="notation">=¦</span></a> <span class="id" title="var">req</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="FreeSpec.Concurrent.html#correct_stream_pick_correct_sequence"><span class="id" title="lemma">correct_stream_pick_correct_sequence</span></a>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="FreeSpec.Concurrent.html#consume"><span class="id" title="definition">consume</span></a> <span class="id" title="var">st</span> <a class="idref" href="FreeSpec.Concurrent.html#ec9ac0dbaf267c4653dd17bebbbecdac"><span class="id" title="notation">*=¦</span></a> <span class="id" title="var">req</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="FreeSpec.Concurrent.html#correct_stream_consume_correct_stream"><span class="id" title="lemma">correct_stream_consume_correct_stream</span></a>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hst</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="FreeSpec.Concurrent.html#correct_sequence_rewrite_abstract_state"><span class="id" title="lemma">correct_sequence_rewrite_abstract_state</span></a>; [ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">exact</span> <span class="id" title="var">Hseq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">exact</span> <span class="id" title="var">Hsig</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">exact</span> <span class="id" title="var">Hni</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="FreeSpec.Concurrent.html#correct_sequence_rewrite_abstract_state"><span class="id" title="lemma">correct_sequence_rewrite_abstract_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span>; [ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">exact</span> <span class="id" title="var">Hseq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">exact</span> <span class="id" title="var">Hsig</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">exact</span> <span class="id" title="var">Hni</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsig'</span>: <a class="idref" href="FreeSpec.Program.html#execProgram"><span class="id" title="definition">execProgram</span></a> <span class="id" title="var">sig</span> (<a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> <span class="id" title="var">seq</span>) <a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">|=</span></a> <span class="id" title="var">c</span><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">[</span></a><a class="idref" href="FreeSpec.Specification.html#specification_derive"><span class="id" title="definition">specification_derive</span></a> (<a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> <span class="id" title="var">seq</span>) <span class="id" title="var">sig</span> <span class="id" title="var">c</span> <span class="id" title="var">w</span><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="FreeSpec.Specification.html#correct_program_compliant_semantics_compliant_semantics"><span class="id" title="lemma">correct_program_compliant_semantics_compliant_semantics</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">Hsig</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="FreeSpec.Concurrent.html#correct_sequence_correct_program"><span class="id" title="lemma">correct_sequence_correct_program</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">req0</span> :=  <span class="id" title="var">req</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsig'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="FreeSpec.Concurrent.html#pick"><span class="id" title="definition">pick</span></a> <span class="id" title="var">st</span> <a class="idref" href="FreeSpec.Concurrent.html#5ea289f5c7cdec5ccd67cdd17499e264"><span class="id" title="notation">=¦</span></a> <span class="id" title="var">req</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="FreeSpec.Concurrent.html#correct_stream_pick_correct_sequence"><span class="id" title="lemma">correct_stream_pick_correct_sequence</span></a>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="FreeSpec.Concurrent.html#consume"><span class="id" title="definition">consume</span></a> <span class="id" title="var">st</span> <a class="idref" href="FreeSpec.Concurrent.html#ec9ac0dbaf267c4653dd17bebbbecdac"><span class="id" title="notation">*=¦</span></a> <span class="id" title="var">req</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="FreeSpec.Concurrent.html#correct_stream_consume_correct_stream"><span class="id" title="lemma">correct_stream_consume_correct_stream</span></a>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hst</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="FreeSpec.Program.html#execProgram"><span class="id" title="definition">execProgram</span></a> <span class="id" title="var">sig</span> (<a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> <span class="id" title="var">seq</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">sig'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="FreeSpec.Semantics.html#evalEffect"><span class="id" title="definition">evalEffect</span></a> <span class="id" title="var">sig'</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hp</span>:  <a class="idref" href="FreeSpec.Concurrent.html#sequence_to_prog"><span class="id" title="definition">sequence_to_prog</span></a> <span class="id" title="var">seq</span> <a class="idref" href="FreeSpec.Specification.html#1bfa67b3c9c3752011eaeae2630646a3"><span class="id" title="notation">|&gt;</span></a> <span class="id" title="var">c</span><a class="idref" href="FreeSpec.Specification.html#1bfa67b3c9c3752011eaeae2630646a3"><span class="id" title="notation">[</span></a><span class="id" title="var">w</span><a class="idref" href="FreeSpec.Specification.html#1bfa67b3c9c3752011eaeae2630646a3"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="FreeSpec.Concurrent.html#correct_sequence_correct_program"><span class="id" title="lemma">correct_sequence_correct_program</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">req0</span> :=  <span class="id" title="var">req</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsig'</span>:  <span class="id" title="var">sig'</span> <a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">|=</span></a> <span class="id" title="var">c</span><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">[</span></a><span class="id" title="var">w</span><a class="idref" href="FreeSpec.Specification.html#f733d0314146ee3607e3a19df90b9e1f"><span class="id" title="notation">]</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="FreeSpec.Concurrent.html#correct_sequence_rewrite_abstract_state"><span class="id" title="lemma">correct_sequence_rewrite_abstract_state</span></a> <span class="id" title="var">w</span> <span class="id" title="var">c</span> <span class="id" title="var">req</span> <span class="id" title="var">seq</span> <span class="id" title="var">Hseq</span> <span class="id" title="var">sig</span> <span class="id" title="var">Hsig</span> <span class="id" title="var">Hni</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqsig'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="FreeSpec.Specification.html#correct_program_compliant_semantics_compliant_semantics"><span class="id" title="lemma">correct_program_compliant_semantics_compliant_semantics</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">concurrence_is_possible</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsig'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hpre</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>